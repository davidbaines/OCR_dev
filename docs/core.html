---

title: OCR


keywords: fastai
sidebar: home_sidebar

summary: "API details."
description: "API details."
nb_path: "00_core.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_core.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[Path(&#39;D:/Work/Test/Webbs/text/bkq-bkqNT.txt&#39;), Path(&#39;D:/Work/Test/Webbs/text/bsq-Bassa02.txt&#39;), Path(&#39;D:/Work/Test/Webbs/text/rbt-psa2-3.txt&#39;)]
24 GentiumPlus-R
bkq-bkqNT_GentiumPlus-R_24.jpg
24 GentiumPlus-R
bkq-bkqNT_GentiumPlus-R_24.pdf
24 GentiumPlus-R
bkq-bkqNT_GentiumPlus-R_24.png
24 GentiumPlus-R
bkq-bkqNT_GentiumPlus-R_24.tiff
24 GentiumPlus-R
bsq-Bassa02_GentiumPlus-R_24.jpg
24 GentiumPlus-R
bsq-Bassa02_GentiumPlus-R_24.pdf
24 GentiumPlus-R
bsq-Bassa02_GentiumPlus-R_24.png
24 GentiumPlus-R
bsq-Bassa02_GentiumPlus-R_24.tiff
24 GentiumPlus-R
rbt-psa2-3_GentiumPlus-R_24.jpg
24 GentiumPlus-R
rbt-psa2-3_GentiumPlus-R_24.pdf
24 GentiumPlus-R
rbt-psa2-3_GentiumPlus-R_24.png
24 GentiumPlus-R
rbt-psa2-3_GentiumPlus-R_24.tiff
Saved these image files:
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_24.jpg
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_24.pdf
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_24.png
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_24.tiff
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_24.jpg
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_24.pdf
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_24.png
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_24.tiff
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_24.jpg
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_24.pdf
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_24.png
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_24.tiff
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="text_wrap" class="doc_header"><code>text_wrap</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L54" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>text_wrap</code>(<strong><code>text</code></strong>, <strong><code>font</code></strong>, <strong><code>max_width</code></strong>)</p>
</blockquote>
<p>Wrap lines to specified width.
This is to enable text of width more than the image width to be display
nicely.
@params:
    text: str
        text to wrap
    font: obj
        font of the text
    max_width: int
        width to split the text with
@return
    lines: list[str]
        list of sub-strings</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_max_line_height" class="doc_header"><code>get_max_line_height</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L92" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_max_line_height</code>(<strong><code>lines</code></strong>, <strong><code>font</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_line_height" class="doc_header"><code>get_line_height</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L99" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_line_height</code>(<strong><code>line</code></strong>, <strong><code>font</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_line_width" class="doc_header"><code>get_line_width</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L104" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_line_width</code>(<strong><code>line</code></strong>, <strong><code>font</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_A4_image" class="doc_header"><code>get_A4_image</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L109" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_A4_image</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="draw_multiline_text" class="doc_header"><code>draw_multiline_text</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L123" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>draw_multiline_text</code>(<strong><code>img</code></strong>, <strong><code>lines</code></strong>, <strong><code>font</code></strong>, <strong><code>format</code></strong>=<em><code>'.pdf'</code></em>, <strong><code>H_MARGIN</code></strong>=<em><code>40</code></em>, <strong><code>V_MARGIN</code></strong>=<em><code>40</code></em>, <strong><code>TEXT_COLOR</code></strong>=<em><code>'black'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="save_multiline_images" class="doc_header"><code>save_multiline_images</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L144" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>save_multiline_images</code>(<strong><code>text_files</code></strong>, <strong><code>font</code></strong>, <strong><code>formats</code></strong>, <strong><code>printable_width</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[WindowsPath(&#39;D:/Work/Test/Webbs/text/bkq-bkqNT.txt&#39;), WindowsPath(&#39;D:/Work/Test/Webbs/text/bsq-Bassa02.txt&#39;), WindowsPath(&#39;D:/Work/Test/Webbs/text/rbt-psa2-3.txt&#39;)]
24 GentiumPlus-R
bkq-bkqNT_GentiumPlus-R_24.jpg
24 GentiumPlus-R
bkq-bkqNT_GentiumPlus-R_24.pdf
24 GentiumPlus-R
bkq-bkqNT_GentiumPlus-R_24.png
24 GentiumPlus-R
bkq-bkqNT_GentiumPlus-R_24.tiff
24 GentiumPlus-R
bsq-Bassa02_GentiumPlus-R_24.jpg
24 GentiumPlus-R
bsq-Bassa02_GentiumPlus-R_24.pdf
24 GentiumPlus-R
bsq-Bassa02_GentiumPlus-R_24.png
24 GentiumPlus-R
bsq-Bassa02_GentiumPlus-R_24.tiff
24 GentiumPlus-R
rbt-psa2-3_GentiumPlus-R_24.jpg
24 GentiumPlus-R
rbt-psa2-3_GentiumPlus-R_24.pdf
24 GentiumPlus-R
rbt-psa2-3_GentiumPlus-R_24.png
24 GentiumPlus-R
rbt-psa2-3_GentiumPlus-R_24.tiff
Saved these image files:
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_24.jpg
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_24.pdf
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_24.png
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_24.tiff
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_24.jpg
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_24.pdf
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_24.png
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_24.tiff
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_24.jpg
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_24.pdf
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_24.png
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_24.tiff
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bucket_name</span> <span class="o">=</span> <span class="s2">&quot;ocr_test_bucket_2345&quot;</span>
<span class="n">destination_blob_name</span> <span class="o">=</span> <span class="s2">&quot;Input_data&quot;</span>
<span class="k">for</span> <span class="n">source_file</span> <span class="ow">in</span> <span class="n">saved_files</span><span class="p">:</span>
    <span class="n">upload_blob</span><span class="p">(</span><span class="n">bucket_name</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">source_file</span><span class="p">),</span><span class="n">destination_blob_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

