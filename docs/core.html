---

title: OCR


keywords: fastai
sidebar: home_sidebar

summary: "API details."
description: "API details."
nb_path: "00_core.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_core.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Processing bkq-bkqNT_GentiumPlus-R_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_10.pdf already exists, skipping.
Processing bkq-bkqNT_GentiumPlus-R_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_10.png already exists, skipping.
Processing bkq-bkqNT_GentiumPlus-R_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_24.pdf already exists, skipping.
Processing bkq-bkqNT_GentiumPlus-R_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_24.png already exists, skipping.
Processing bkq-bkqNT_GentiumPlus-I_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-I_10.pdf already exists, skipping.
Processing bkq-bkqNT_GentiumPlus-I_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-I_10.png already exists, skipping.
Processing bkq-bkqNT_GentiumPlus-I_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-I_24.pdf already exists, skipping.
Processing bkq-bkqNT_GentiumPlus-I_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-I_24.png already exists, skipping.
Processing bkq-bkqNT_arial_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_arial_10.pdf already exists, skipping.
Processing bkq-bkqNT_arial_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_arial_10.png already exists, skipping.
Processing bkq-bkqNT_arial_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_arial_24.pdf already exists, skipping.
Processing bkq-bkqNT_arial_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_arial_24.png already exists, skipping.
Processing bkq-bkqNT_ariali_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_ariali_10.pdf already exists, skipping.
Processing bkq-bkqNT_ariali_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_ariali_10.png already exists, skipping.
Processing bkq-bkqNT_ariali_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_ariali_24.pdf already exists, skipping.
Processing bkq-bkqNT_ariali_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_ariali_24.png already exists, skipping.
Processing bsq-Bassa02_GentiumPlus-R_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_10.pdf already exists, skipping.
Processing bsq-Bassa02_GentiumPlus-R_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_10.png already exists, skipping.
Processing bsq-Bassa02_GentiumPlus-R_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_24.pdf already exists, skipping.
Processing bsq-Bassa02_GentiumPlus-R_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_24.png already exists, skipping.
Processing bsq-Bassa02_GentiumPlus-I_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-I_10.pdf already exists, skipping.
Processing bsq-Bassa02_GentiumPlus-I_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-I_10.png already exists, skipping.
Processing bsq-Bassa02_GentiumPlus-I_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-I_24.pdf already exists, skipping.
Processing bsq-Bassa02_GentiumPlus-I_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-I_24.png already exists, skipping.
Processing bsq-Bassa02_arial_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_arial_10.pdf already exists, skipping.
Processing bsq-Bassa02_arial_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_arial_10.png already exists, skipping.
Processing bsq-Bassa02_arial_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_arial_24.pdf already exists, skipping.
Processing bsq-Bassa02_arial_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_arial_24.png already exists, skipping.
Processing bsq-Bassa02_ariali_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_ariali_10.pdf already exists, skipping.
Processing bsq-Bassa02_ariali_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_ariali_10.png already exists, skipping.
Processing bsq-Bassa02_ariali_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_ariali_24.pdf already exists, skipping.
Processing bsq-Bassa02_ariali_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_ariali_24.png already exists, skipping.
Processing rbt-psa2-3_GentiumPlus-R_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_10.pdf already exists, skipping.
Processing rbt-psa2-3_GentiumPlus-R_10.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_10.png already exists, skipping.
Processing rbt-psa2-3_GentiumPlus-R_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_24.pdf already exists, skipping.
Processing rbt-psa2-3_GentiumPlus-R_24.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_24.png already exists, skipping.
Processing rbt-psa2-3_GentiumPlus-I_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-I_10.pdf already exists, skipping.
Processing rbt-psa2-3_GentiumPlus-I_10.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-I_10.png already exists, skipping.
Processing rbt-psa2-3_GentiumPlus-I_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-I_24.pdf already exists, skipping.
Processing rbt-psa2-3_GentiumPlus-I_24.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-I_24.png already exists, skipping.
Processing rbt-psa2-3_arial_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_arial_10.pdf already exists, skipping.
Processing rbt-psa2-3_arial_10.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_arial_10.png already exists, skipping.
Processing rbt-psa2-3_arial_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_arial_24.pdf already exists, skipping.
Processing rbt-psa2-3_arial_24.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_arial_24.png already exists, skipping.
Processing rbt-psa2-3_ariali_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_ariali_10.pdf already exists, skipping.
Processing rbt-psa2-3_ariali_10.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_ariali_10.png already exists, skipping.
Processing rbt-psa2-3_ariali_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_ariali_24.pdf already exists, skipping.
Processing rbt-psa2-3_ariali_24.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_ariali_24.png already exists, skipping.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="text_wrap" class="doc_header"><code>text_wrap</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L43" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>text_wrap</code>(<strong><code>text</code></strong>, <strong><code>font</code></strong>, <strong><code>max_width</code></strong>)</p>
</blockquote>
<p>Wrap lines to specified width.
This is to enable text of width more than the image width to be display
nicely.
@params:
    text: str
        text to wrap
    font: obj
        font of the text
    max_width: int
        width to split the text with
@return
    lines: list[str]
        list of sub-strings</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_max_line_height" class="doc_header"><code>get_max_line_height</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L81" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_max_line_height</code>(<strong><code>lines</code></strong>, <strong><code>font</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_line_height" class="doc_header"><code>get_line_height</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L88" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_line_height</code>(<strong><code>line</code></strong>, <strong><code>font</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_line_width" class="doc_header"><code>get_line_width</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L93" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_line_width</code>(<strong><code>line</code></strong>, <strong><code>font</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_A4_image" class="doc_header"><code>get_A4_image</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L98" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_A4_image</code>()</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="print_opl" class="doc_header"><code>print_opl</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L109" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>print_opl</code>(<strong><code>seq</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="create_image" class="doc_header"><code>create_image</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L115" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>create_image</code>(<strong><code>img</code></strong>, <strong><code>lines</code></strong>, <strong><code>font</code></strong>, <strong><code>H_MARGIN</code></strong>=<em><code>40</code></em>, <strong><code>V_MARGIN</code></strong>=<em><code>40</code></em>, <strong><code>TEXT_COLOR</code></strong>=<em><code>'black'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_wrapped_text" class="doc_header"><code>get_wrapped_text</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L134" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_wrapped_text</code>(<strong><code>text_file</code></strong>, <strong><code>font</code></strong>, <strong><code>printable_width</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="image_permutations" class="doc_header"><code>image_permutations</code><a href="https://github.com/davidbaines/ocr/tree/master/ocr/core.py#L146" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>image_permutations</code>(<strong><code>text_files</code></strong>, <strong><code>fonts</code></strong>, <strong><code>printable_width</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Processing bkq-bkqNT_GentiumPlus-R_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_10.pdf already exists, overwriting.
Processing bkq-bkqNT_GentiumPlus-R_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_10.png already exists, overwriting.
Processing bkq-bkqNT_GentiumPlus-R_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_24.pdf already exists, overwriting.
Processing bkq-bkqNT_GentiumPlus-R_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-R_24.png already exists, overwriting.
Processing bkq-bkqNT_GentiumPlus-I_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-I_10.pdf already exists, overwriting.
Processing bkq-bkqNT_GentiumPlus-I_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-I_10.png already exists, overwriting.
Processing bkq-bkqNT_GentiumPlus-I_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-I_24.pdf already exists, overwriting.
Processing bkq-bkqNT_GentiumPlus-I_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_GentiumPlus-I_24.png already exists, overwriting.
Processing bkq-bkqNT_arial_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_arial_10.pdf already exists, overwriting.
Processing bkq-bkqNT_arial_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_arial_10.png already exists, overwriting.
Processing bkq-bkqNT_arial_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_arial_24.pdf already exists, overwriting.
Processing bkq-bkqNT_arial_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_arial_24.png already exists, overwriting.
Processing bkq-bkqNT_ariali_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_ariali_10.pdf already exists, overwriting.
Processing bkq-bkqNT_ariali_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_ariali_10.png already exists, overwriting.
Processing bkq-bkqNT_ariali_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_ariali_24.pdf already exists, overwriting.
Processing bkq-bkqNT_ariali_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bkq-bkqNT_ariali_24.png already exists, overwriting.
Processing bsq-Bassa02_GentiumPlus-R_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_10.pdf already exists, overwriting.
Processing bsq-Bassa02_GentiumPlus-R_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_10.png already exists, overwriting.
Processing bsq-Bassa02_GentiumPlus-R_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_24.pdf already exists, overwriting.
Processing bsq-Bassa02_GentiumPlus-R_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-R_24.png already exists, overwriting.
Processing bsq-Bassa02_GentiumPlus-I_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-I_10.pdf already exists, overwriting.
Processing bsq-Bassa02_GentiumPlus-I_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-I_10.png already exists, overwriting.
Processing bsq-Bassa02_GentiumPlus-I_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-I_24.pdf already exists, overwriting.
Processing bsq-Bassa02_GentiumPlus-I_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_GentiumPlus-I_24.png already exists, overwriting.
Processing bsq-Bassa02_arial_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_arial_10.pdf already exists, overwriting.
Processing bsq-Bassa02_arial_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_arial_10.png already exists, overwriting.
Processing bsq-Bassa02_arial_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_arial_24.pdf already exists, overwriting.
Processing bsq-Bassa02_arial_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_arial_24.png already exists, overwriting.
Processing bsq-Bassa02_ariali_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_ariali_10.pdf already exists, overwriting.
Processing bsq-Bassa02_ariali_10.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_ariali_10.png already exists, overwriting.
Processing bsq-Bassa02_ariali_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_ariali_24.pdf already exists, overwriting.
Processing bsq-Bassa02_ariali_24.png. Exists? : True
D:\Work\Test\Webbs\Input\bsq-Bassa02_ariali_24.png already exists, overwriting.
Processing rbt-psa2-3_GentiumPlus-R_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_10.pdf already exists, overwriting.
Processing rbt-psa2-3_GentiumPlus-R_10.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_10.png already exists, overwriting.
Processing rbt-psa2-3_GentiumPlus-R_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_24.pdf already exists, overwriting.
Processing rbt-psa2-3_GentiumPlus-R_24.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-R_24.png already exists, overwriting.
Processing rbt-psa2-3_GentiumPlus-I_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-I_10.pdf already exists, overwriting.
Processing rbt-psa2-3_GentiumPlus-I_10.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-I_10.png already exists, overwriting.
Processing rbt-psa2-3_GentiumPlus-I_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-I_24.pdf already exists, overwriting.
Processing rbt-psa2-3_GentiumPlus-I_24.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_GentiumPlus-I_24.png already exists, overwriting.
Processing rbt-psa2-3_arial_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_arial_10.pdf already exists, overwriting.
Processing rbt-psa2-3_arial_10.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_arial_10.png already exists, overwriting.
Processing rbt-psa2-3_arial_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_arial_24.pdf already exists, overwriting.
Processing rbt-psa2-3_arial_24.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_arial_24.png already exists, overwriting.
Processing rbt-psa2-3_ariali_10.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_ariali_10.pdf already exists, overwriting.
Processing rbt-psa2-3_ariali_10.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_ariali_10.png already exists, overwriting.
Processing rbt-psa2-3_ariali_24.pdf. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_ariali_24.pdf already exists, overwriting.
Processing rbt-psa2-3_ariali_24.png. Exists? : True
D:\Work\Test\Webbs\Input\rbt-psa2-3_ariali_24.png already exists, overwriting.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results_path</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;D:\Work\Test\Webbs\Input&quot;</span><span class="p">)</span>
<span class="n">ms_output_path</span> <span class="o">=</span> <span class="n">results_path</span> <span class="o">/</span> <span class="s2">&quot;Microsoft&quot;</span>
<span class="n">gcp_output_path</span> <span class="o">=</span> <span class="n">results_path</span> <span class="o">/</span> <span class="s2">&quot;Google&quot;</span>
<span class="n">aws_output_path</span> <span class="o">=</span> <span class="n">results_path</span> <span class="o">/</span> <span class="s2">&quot;Amazon&quot;</span>

<span class="n">selected_input_folder</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;D:\Work\Test\Webbs\SelectedInput&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">google.cloud</span> <span class="kn">import</span> <span class="n">storage</span>

<span class="o">!</span>SET <span class="nv">GOOGLE_APPLICATION_CREDENTIALS</span><span class="o">=</span><span class="s2">&quot;D:\CryptoKeys\DavidBaines_OCR1_83942beb5ed5.json&quot;</span>

<span class="k">def</span> <span class="nf">list_buckets</span><span class="p">():</span>
    <span class="c1"># If you don&#39;t specify credentials when constructing the client, the</span>
    <span class="c1"># client library will look for credentials in the environment.</span>
    <span class="n">storage_client</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>

    <span class="c1"># Make an authenticated API request</span>
    <span class="n">buckets</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">storage_client</span><span class="o">.</span><span class="n">list_buckets</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">buckets</span>

<span class="k">def</span> <span class="nf">upload_blob</span><span class="p">(</span><span class="n">bucket_name</span><span class="p">,</span> <span class="n">source_file_name</span><span class="p">,</span> <span class="n">destination_blob_name</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Uploads a file to the bucket.&quot;&quot;&quot;</span>
    <span class="c1"># bucket_name = &quot;your-bucket-name&quot;</span>
    <span class="c1"># source_file_name = &quot;local/path/to/file&quot;</span>
    <span class="c1"># destination_blob_name = &quot;storage-object-name&quot;</span>

    <span class="n">storage_client</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>
    <span class="n">bucket</span> <span class="o">=</span> <span class="n">storage_client</span><span class="o">.</span><span class="n">bucket</span><span class="p">(</span><span class="n">bucket_name</span><span class="p">)</span>
    <span class="n">blob</span> <span class="o">=</span> <span class="n">bucket</span><span class="o">.</span><span class="n">blob</span><span class="p">(</span><span class="n">destination_blob_name</span><span class="p">)</span>

    <span class="n">blob</span><span class="o">.</span><span class="n">upload_from_filename</span><span class="p">(</span><span class="n">source_file</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span>
        <span class="s2">&quot;File </span><span class="si">{}</span><span class="s2"> uploaded to </span><span class="si">{}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">source_file</span><span class="p">,</span> <span class="n">destination_blob_name</span>
        <span class="p">)</span>
    <span class="p">)</span>

<span class="k">def</span> <span class="nf">async_detect_document</span><span class="p">(</span><span class="n">gcs_source_uri</span><span class="p">,</span> <span class="n">gcs_destination_uri</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;OCR with PDF/TIFF as source files on GCS&quot;&quot;&quot;</span>
    <span class="kn">import</span> <span class="nn">json</span>
    <span class="kn">import</span> <span class="nn">re</span>
    <span class="kn">from</span> <span class="nn">google.cloud</span> <span class="kn">import</span> <span class="n">vision</span>
    <span class="kn">from</span> <span class="nn">google.cloud</span> <span class="kn">import</span> <span class="n">storage</span>

    <span class="c1"># Supported mime_types are: &#39;application/pdf&#39; and &#39;image/tiff&#39;</span>
    <span class="n">mime_type</span> <span class="o">=</span> <span class="s1">&#39;application/pdf&#39;</span>

    <span class="c1"># How many pages should be grouped into each json output file.</span>
    <span class="n">batch_size</span> <span class="o">=</span> <span class="mi">2</span>

    <span class="n">client</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">ImageAnnotatorClient</span><span class="p">()</span>

    <span class="n">feature</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">Feature</span><span class="p">(</span>
        <span class="n">type_</span><span class="o">=</span><span class="n">vision</span><span class="o">.</span><span class="n">Feature</span><span class="o">.</span><span class="n">Type</span><span class="o">.</span><span class="n">DOCUMENT_TEXT_DETECTION</span><span class="p">)</span>

    <span class="n">gcs_source</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">GcsSource</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="n">gcs_source_uri</span><span class="p">)</span>
    <span class="n">input_config</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">InputConfig</span><span class="p">(</span>
        <span class="n">gcs_source</span><span class="o">=</span><span class="n">gcs_source</span><span class="p">,</span> <span class="n">mime_type</span><span class="o">=</span><span class="n">mime_type</span><span class="p">)</span>

    <span class="n">gcs_destination</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">GcsDestination</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="n">gcs_destination_uri</span><span class="p">)</span>
    <span class="n">output_config</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">OutputConfig</span><span class="p">(</span>
        <span class="n">gcs_destination</span><span class="o">=</span><span class="n">gcs_destination</span><span class="p">,</span> <span class="n">batch_size</span><span class="o">=</span><span class="n">batch_size</span><span class="p">)</span>

    <span class="n">async_request</span> <span class="o">=</span> <span class="n">vision</span><span class="o">.</span><span class="n">AsyncAnnotateFileRequest</span><span class="p">(</span>
        <span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="n">feature</span><span class="p">],</span> <span class="n">input_config</span><span class="o">=</span><span class="n">input_config</span><span class="p">,</span>
        <span class="n">output_config</span><span class="o">=</span><span class="n">output_config</span><span class="p">)</span>

    <span class="n">operation</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">async_batch_annotate_files</span><span class="p">(</span>
        <span class="n">requests</span><span class="o">=</span><span class="p">[</span><span class="n">async_request</span><span class="p">])</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Waiting for the operation to finish.&#39;</span><span class="p">)</span>
    <span class="n">operation</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">420</span><span class="p">)</span>

    <span class="c1"># Once the request has completed and the output has been</span>
    <span class="c1"># written to GCS, we can list all the output files.</span>
    <span class="n">storage_client</span> <span class="o">=</span> <span class="n">storage</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>

    <span class="n">match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;gs://([^/]+)/(.+)&#39;</span><span class="p">,</span> <span class="n">gcs_destination_uri</span><span class="p">)</span>
    <span class="n">bucket_name</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">prefix</span> <span class="o">=</span> <span class="n">match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

    <span class="n">bucket</span> <span class="o">=</span> <span class="n">storage_client</span><span class="o">.</span><span class="n">get_bucket</span><span class="p">(</span><span class="n">bucket_name</span><span class="p">)</span>

    <span class="c1"># List objects with the given prefix.</span>
    <span class="n">blob_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">bucket</span><span class="o">.</span><span class="n">list_blobs</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="n">prefix</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Output files:&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">blob</span> <span class="ow">in</span> <span class="n">blob_list</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">blob</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

    <span class="c1"># Process the first output file from GCS.</span>
    <span class="c1"># Since we specified batch_size=2, the first response contains</span>
    <span class="c1"># the first two pages of the input file.</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">blob_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">json_string</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">download_as_string</span><span class="p">()</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_string</span><span class="p">)</span>

    <span class="c1"># The actual response for the first page of the input file.</span>
    <span class="n">first_page_response</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s1">&#39;responses&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">annotation</span> <span class="o">=</span> <span class="n">first_page_response</span><span class="p">[</span><span class="s1">&#39;fullTextAnnotation&#39;</span><span class="p">]</span>

    <span class="c1"># Here we print the full text from the first page.</span>
    <span class="c1"># The response contains more information:</span>
    <span class="c1"># annotation/pages/blocks/paragraphs/words/symbols</span>
    <span class="c1"># including confidence scores and bounding boxes</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Full text:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">annotation</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">])</span>
    
<span class="n">list_buckets</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-intense-fg ansi-bold">---------------------------------------------------------------------------</span>
<span class="ansi-red-intense-fg ansi-bold">DefaultCredentialsError</span>                   Traceback (most recent call last)
<span class="ansi-green-intense-fg ansi-bold">&lt;ipython-input-8-6dd092770036&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span>
<span class="ansi-green-fg">    101</span>     print<span class="ansi-yellow-intense-fg ansi-bold">(</span>annotation<span class="ansi-yellow-intense-fg ansi-bold">[</span><span class="ansi-blue-intense-fg ansi-bold">&#39;text&#39;</span><span class="ansi-yellow-intense-fg ansi-bold">]</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    102</span> 
<span class="ansi-green-intense-fg ansi-bold">--&gt; 103</span><span class="ansi-yellow-intense-fg ansi-bold"> </span>list_buckets<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    104</span> 
<span class="ansi-green-fg">    105</span> 

<span class="ansi-green-intense-fg ansi-bold">&lt;ipython-input-8-6dd092770036&gt;</span> in <span class="ansi-cyan-fg">list_buckets</span><span class="ansi-blue-intense-fg ansi-bold">()</span>
<span class="ansi-green-fg">      6</span>     <span class="ansi-red-intense-fg ansi-bold"># If you don&#39;t specify credentials when constructing the client, the</span>
<span class="ansi-green-fg">      7</span>     <span class="ansi-red-intense-fg ansi-bold"># client library will look for credentials in the environment.</span>
<span class="ansi-green-intense-fg ansi-bold">----&gt; 8</span><span class="ansi-yellow-intense-fg ansi-bold">     </span>storage_client <span class="ansi-yellow-intense-fg ansi-bold">=</span> storage<span class="ansi-yellow-intense-fg ansi-bold">.</span>Client<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">      9</span> 
<span class="ansi-green-fg">     10</span>     <span class="ansi-red-intense-fg ansi-bold"># Make an authenticated API request</span>

<span class="ansi-green-intense-fg ansi-bold">D:\Work\Test\Webbs\OCR\lib\site-packages\google\cloud\storage\client.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-intense-fg ansi-bold">(self, project, credentials, _http, client_info, client_options)</span>
<span class="ansi-green-fg">    116</span>             credentials<span class="ansi-yellow-intense-fg ansi-bold">=</span>credentials<span class="ansi-yellow-intense-fg ansi-bold">,</span>
<span class="ansi-green-fg">    117</span>             client_options<span class="ansi-yellow-intense-fg ansi-bold">=</span>client_options<span class="ansi-yellow-intense-fg ansi-bold">,</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 118</span><span class="ansi-yellow-intense-fg ansi-bold">             </span>_http<span class="ansi-yellow-intense-fg ansi-bold">=</span>_http<span class="ansi-yellow-intense-fg ansi-bold">,</span>
<span class="ansi-green-fg">    119</span>         )
<span class="ansi-green-fg">    120</span> 

<span class="ansi-green-intense-fg ansi-bold">D:\Work\Test\Webbs\OCR\lib\site-packages\google\cloud\client.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-intense-fg ansi-bold">(self, project, credentials, client_options, _http)</span>
<span class="ansi-green-fg">    247</span> 
<span class="ansi-green-fg">    248</span>     <span class="ansi-green-intense-fg ansi-bold">def</span> __init__<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">,</span> project<span class="ansi-yellow-intense-fg ansi-bold">=</span><span class="ansi-green-intense-fg ansi-bold">None</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> credentials<span class="ansi-yellow-intense-fg ansi-bold">=</span><span class="ansi-green-intense-fg ansi-bold">None</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> client_options<span class="ansi-yellow-intense-fg ansi-bold">=</span><span class="ansi-green-intense-fg ansi-bold">None</span><span class="ansi-yellow-intense-fg ansi-bold">,</span> _http<span class="ansi-yellow-intense-fg ansi-bold">=</span><span class="ansi-green-intense-fg ansi-bold">None</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 249</span><span class="ansi-yellow-intense-fg ansi-bold">         </span>_ClientProjectMixin<span class="ansi-yellow-intense-fg ansi-bold">.</span>__init__<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">,</span> project<span class="ansi-yellow-intense-fg ansi-bold">=</span>project<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    250</span>         Client<span class="ansi-yellow-intense-fg ansi-bold">.</span>__init__<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">,</span> credentials<span class="ansi-yellow-intense-fg ansi-bold">=</span>credentials<span class="ansi-yellow-intense-fg ansi-bold">,</span> client_options<span class="ansi-yellow-intense-fg ansi-bold">=</span>client_options<span class="ansi-yellow-intense-fg ansi-bold">,</span> _http<span class="ansi-yellow-intense-fg ansi-bold">=</span>_http<span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-green-intense-fg ansi-bold">D:\Work\Test\Webbs\OCR\lib\site-packages\google\cloud\client.py</span> in <span class="ansi-cyan-fg">__init__</span><span class="ansi-blue-intense-fg ansi-bold">(self, project)</span>
<span class="ansi-green-fg">    199</span> 
<span class="ansi-green-fg">    200</span>     <span class="ansi-green-intense-fg ansi-bold">def</span> __init__<span class="ansi-yellow-intense-fg ansi-bold">(</span>self<span class="ansi-yellow-intense-fg ansi-bold">,</span> project<span class="ansi-yellow-intense-fg ansi-bold">=</span><span class="ansi-green-intense-fg ansi-bold">None</span><span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 201</span><span class="ansi-yellow-intense-fg ansi-bold">         </span>project <span class="ansi-yellow-intense-fg ansi-bold">=</span> self<span class="ansi-yellow-intense-fg ansi-bold">.</span>_determine_default<span class="ansi-yellow-intense-fg ansi-bold">(</span>project<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    202</span>         <span class="ansi-green-intense-fg ansi-bold">if</span> project <span class="ansi-green-intense-fg ansi-bold">is</span> <span class="ansi-green-intense-fg ansi-bold">None</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    203</span>             raise EnvironmentError(

<span class="ansi-green-intense-fg ansi-bold">D:\Work\Test\Webbs\OCR\lib\site-packages\google\cloud\client.py</span> in <span class="ansi-cyan-fg">_determine_default</span><span class="ansi-blue-intense-fg ansi-bold">(project)</span>
<span class="ansi-green-fg">    214</span>     <span class="ansi-green-intense-fg ansi-bold">def</span> _determine_default<span class="ansi-yellow-intense-fg ansi-bold">(</span>project<span class="ansi-yellow-intense-fg ansi-bold">)</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-fg">    215</span>         <span class="ansi-blue-intense-fg ansi-bold">&#34;&#34;&#34;Helper:  use default project detection.&#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 216</span><span class="ansi-yellow-intense-fg ansi-bold">         </span><span class="ansi-green-intense-fg ansi-bold">return</span> _determine_default_project<span class="ansi-yellow-intense-fg ansi-bold">(</span>project<span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    217</span> 
<span class="ansi-green-fg">    218</span> 

<span class="ansi-green-intense-fg ansi-bold">D:\Work\Test\Webbs\OCR\lib\site-packages\google\cloud\_helpers.py</span> in <span class="ansi-cyan-fg">_determine_default_project</span><span class="ansi-blue-intense-fg ansi-bold">(project)</span>
<span class="ansi-green-fg">    184</span>     &#34;&#34;&#34;
<span class="ansi-green-fg">    185</span>     <span class="ansi-green-intense-fg ansi-bold">if</span> project <span class="ansi-green-intense-fg ansi-bold">is</span> <span class="ansi-green-intense-fg ansi-bold">None</span><span class="ansi-yellow-intense-fg ansi-bold">:</span>
<span class="ansi-green-intense-fg ansi-bold">--&gt; 186</span><span class="ansi-yellow-intense-fg ansi-bold">         </span>_<span class="ansi-yellow-intense-fg ansi-bold">,</span> project <span class="ansi-yellow-intense-fg ansi-bold">=</span> google<span class="ansi-yellow-intense-fg ansi-bold">.</span>auth<span class="ansi-yellow-intense-fg ansi-bold">.</span>default<span class="ansi-yellow-intense-fg ansi-bold">(</span><span class="ansi-yellow-intense-fg ansi-bold">)</span>
<span class="ansi-green-fg">    187</span>     <span class="ansi-green-intense-fg ansi-bold">return</span> project
<span class="ansi-green-fg">    188</span> 

<span class="ansi-green-intense-fg ansi-bold">D:\Work\Test\Webbs\OCR\lib\site-packages\google\auth\_default.py</span> in <span class="ansi-cyan-fg">default</span><span class="ansi-blue-intense-fg ansi-bold">(scopes, request, quota_project_id)</span>
<span class="ansi-green-fg">    352</span>             <span class="ansi-green-intense-fg ansi-bold">return</span> credentials<span class="ansi-yellow-intense-fg ansi-bold">,</span> effective_project_id
<span class="ansi-green-fg">    353</span> 
<span class="ansi-green-intense-fg ansi-bold">--&gt; 354</span><span class="ansi-yellow-intense-fg ansi-bold">     </span><span class="ansi-green-intense-fg ansi-bold">raise</span> exceptions<span class="ansi-yellow-intense-fg ansi-bold">.</span>DefaultCredentialsError<span class="ansi-yellow-intense-fg ansi-bold">(</span>_HELP_MESSAGE<span class="ansi-yellow-intense-fg ansi-bold">)</span>

<span class="ansi-red-intense-fg ansi-bold">DefaultCredentialsError</span>: Could not automatically determine credentials. Please set GOOGLE_APPLICATION_CREDENTIALS or explicitly create credentials and re-run the application. For more information, please see https://cloud.google.com/docs/authentication/getting-started</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bucket_name</span> <span class="o">=</span> <span class="s2">&quot;ocr_test_bucket_2345&quot;</span>
<span class="n">destination_blob_name</span> <span class="o">=</span> <span class="s2">&quot;Input_data&quot;</span>
<span class="k">for</span> <span class="n">source_file</span> <span class="ow">in</span> <span class="n">saved_files</span><span class="p">:</span>
    <span class="n">upload_blob</span><span class="p">(</span><span class="n">bucket_name</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">source_file</span><span class="p">),</span><span class="n">destination_blob_name</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">notebook2script</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

